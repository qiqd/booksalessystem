import{r as u,eP as N,c as U,d as e,w as l,F as $,eU as T,eQ as I,o as z,b as E,f as r,h as m,l as M,i as j,j as A,E as P,eY as Q,eZ as Y}from"./index-Bg1r39io.js";/* empty css                   */import"./el-tooltip-l0sNRNKZ.js";/* empty css                  *//* empty css                     *//* empty css               *//* empty css                *//* empty css                     */import"./request-Cwi5WePM.js";import{a as w,b as Z,c as q}from"./book-tpcyBRzf.js";const G=E("span",null,"你确定要删除吗？",-1),H={class:"dialog-footer"},oe={__name:"BookTypeInfo",setup(J){const i=u([]),d=u(!1),p=u(!1),c=u(),y=u(),n=u({shelftype:"",type:""}),_=async()=>{let o="";i.value=(await w(o)).data.data},k=()=>{Z(c.value).then(o=>{if(o.data.state>300){m({message:"删除失败",type:"error",plain:!0});return}m({message:"删除成功",type:"success",plain:!0}),d.value=!1,c.value=null,_()})},C=async()=>{const o=n.value.type;try{i.value=(await w(o)).data.data,console.log(i.value)}catch(t){console.error("Error  book :",t)}},S=()=>{q(y.value,n.value).then(o=>{if(o.data.state>300){m({message:"修改失败",type:"error",plain:!0});return}m({message:"修改成功",type:"success",plain:!0}),p.value=!1,_()})},x=(o,t)=>{y.value=t.shelfno,n.value.shelftype=t.shelftype,p.value=!0},B=(o,t)=>{d.value=!0,c.value=t.shelfno};return N(()=>{_()}),(o,t)=>{const s=M,v=T,b=j,f=A,g=P,V=I,h=Q,D=Y;return z(),U($,null,[e(v,{modelValue:d.value,"onUpdate:modelValue":t[1]||(t[1]=a=>d.value=a),title:"提示",width:"500"},{footer:l(()=>[E("div",H,[e(s,{onClick:t[0]||(t[0]=a=>d.value=!1)},{default:l(()=>[r("取消")]),_:1}),e(s,{onClick:k,type:"primary"},{default:l(()=>[r(" 确认 ")]),_:1})])]),default:l(()=>[G]),_:1},8,["modelValue"]),e(V,null,{default:l(()=>[e(g,{"label-position":"right","label-width":"auto"},{default:l(()=>[e(f,{label:"搜索："},{default:l(()=>[e(b,{modelValue:n.value.type,"onUpdate:modelValue":t[2]||(t[2]=a=>n.value.type=a),style:{width:"500px"},placeholder:"类型",clearable:""},null,8,["modelValue"])]),_:1}),e(f,null,{default:l(()=>[e(s,{type:"primary",onClick:C},{default:l(()=>[r("搜索")]),_:1})]),_:1})]),_:1})]),_:1}),e(v,{modelValue:p.value,"onUpdate:modelValue":t[4]||(t[4]=a=>p.value=a),title:"修改vip顾客信息",width:"500"},{default:l(()=>[e(g,{model:n.value,"label-position":"right","label-width":"auto"},{default:l(()=>[e(f,{label:"类型"},{default:l(()=>[e(b,{modelValue:n.value.shelftype,"onUpdate:modelValue":t[3]||(t[3]=a=>n.value.shelftype=a),placeholder:"shelftype",clearable:""},null,8,["modelValue"])]),_:1}),e(f,null,{default:l(()=>[e(s,{type:"primary",onClick:S},{default:l(()=>[r("确认")]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]),e(V,null,{default:l(()=>[e(D,{data:i.value,height:"700",style:{width:"100%"},sortable:""},{default:l(()=>[e(h,{align:"center",sortable:"",label:"图书编号",width:"200",prop:"shelfno"}),e(h,{align:"center",label:"类型",width:"200",prop:"shelftype"}),e(h,{align:"center",label:"操作"},{default:l(a=>[e(s,{size:"small",onClick:F=>x(a.$index,a.row)},{default:l(()=>[r(" 编辑")]),_:2},1032,["onClick"]),e(s,{size:"small",type:"danger",onClick:F=>B(a.$index,a.row)},{default:l(()=>[r(" 删除 ")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])]),_:1})],64)}}};export{oe as default};
