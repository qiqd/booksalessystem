import{v as E,a as n,w as c,x as f,y as a,A as l,B as I,o as p,F as B,C as S,D as _,G as C,H as q,I as v,J as F,K as L,L as N,M as A,c as U,N as M}from"./vendor-BfugLu_u.js";import{r as O}from"./request-B-Avm3cl.js";import{u as z}from"./index-nOFdZBZ9.js";import{_ as D}from"./_plugin-vue_export-helper-DlAUqK2U.js";const G=s=>O.post("/admin/login",{aname:s.username,apassword:s.password}),H=s=>(C("data-v-a3a10f8a"),s=s(),q(),s),J={class:"body"},K={class:"box"},R=H(()=>f("h3",null,"图书销售管理系统登录",-1)),T={__name:"AdminLogin",setup(s){const d=z(),g=E(),e=n({username:"",password:"",type:""}),y=n([{value:"admin",label:"管理员"},{value:"staff",label:"员工"}]),w=n({username:[{required:!0,message:"请输入账号",trigger:"blur",min:4,max:10}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],type:[{required:!0,message:"请选择登录身份",trigger:"blur"}]}),b=async()=>{if(e.value.username==""||e.value.password==""||e.value.type=="")return;const r=await G(e.value);if(r.data.state>200){v({message:r.data.message,type:"error",plain:!0});return}v({message:"登录成功",type:"success",plain:!0}),d.token=r.data.data,d.adminInfo=e.value,g.push("/layout")},V=()=>{e.value.username="",e.value.password="",e.value.type=""};return(r,o)=>{const m=F,u=L,x=M,h=N,i=A,k=I;return p(),c("div",J,[f("div",K,[R,a(k,{model:e.value,"label-width":"80px",size:"large","label-position":"left",rules:w.value},{default:l(()=>[a(u,{"label-width":"auto",prop:"username"},{default:l(()=>[a(m,{modelValue:e.value.username,"onUpdate:modelValue":o[0]||(o[0]=t=>e.value.username=t),placeholder:"请输入账号",clearable:""},null,8,["modelValue"])]),_:1}),a(u,{"label-width":"auto",prop:"password"},{default:l(()=>[a(m,{modelValue:e.value.password,"onUpdate:modelValue":o[1]||(o[1]=t=>e.value.password=t),type:"password",placeholder:"请输入密码",clearable:"","show-password":""},null,8,["modelValue"])]),_:1}),a(u,{style:{"margin-left":"-80px"},prop:"type"},{default:l(()=>[a(h,{modelValue:e.value.type,"onUpdate:modelValue":o[2]||(o[2]=t=>e.value.type=t),"value-key":"2",placeholder:"选择登录身份"},{default:l(()=>[(p(!0),c(B,null,S(y.value,t=>(p(),U(x,{key:t.value,label:t.label,value:t.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),a(u,{style:{"margin-left":"-16px"}},{default:l(()=>[a(i,{type:"primary",onClick:b},{default:l(()=>[_("登录")]),_:1}),a(i,{type:"danger",onClick:V},{default:l(()=>[_("重置")]),_:1})]),_:1})]),_:1},8,["model","rules"])])])}}},X=D(T,[["__scopeId","data-v-a3a10f8a"]]);export{X as default};
