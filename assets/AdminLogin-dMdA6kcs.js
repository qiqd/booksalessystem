import{u as E,a as I,r as n,c,b as v,d as a,w as l,E as S,o as p,F as B,e as q,f as _,p as C,g as F,h as f,i as L,j as N,k as U,l as A,m as O,n as j}from"./index-BbFHhfAw.js";/* empty css                     */import{r as z}from"./request-DdeUMOwH.js";/* empty css               *//* empty css                  *//* empty css                     *//* empty css                  */import{_ as M}from"./plugin-vueexport-helper-DlAUqK2U.js";const R=o=>z.post("/admin/login",{aname:o.username,apassword:o.password}),T=o=>(C("data-v-a3a10f8a"),o=o(),F(),o),D={class:"body"},G={class:"box"},H=T(()=>v("h3",null,"图书销售管理系统登录",-1)),J={__name:"AdminLogin",setup(o){const d=E(),g=I(),e=n({username:"",password:"",type:""}),y=n([{value:"admin",label:"管理员"},{value:"staff",label:"员工"}]),b=n({username:[{required:!0,message:"请输入账号",trigger:"blur",min:4,max:10}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],type:[{required:!0,message:"请选择登录身份",trigger:"blur"}]}),w=async()=>{if(e.value.username==""||e.value.password==""||e.value.type=="")return;const r=await R(e.value);if(r.data.state>200){f({message:r.data.message,type:"error",plain:!0});return}f({message:"登录成功",type:"success",plain:!0}),d.token=r.data.data,d.adminInfo=e.value,g.push("/layout")},V=()=>{e.value.username="",e.value.password="",e.value.type=""};return(r,s)=>{const m=L,u=N,h=j,x=U,i=A,k=S;return p(),c("div",D,[v("div",G,[H,a(k,{model:e.value,"label-width":"80px",size:"large","label-position":"left",rules:b.value},{default:l(()=>[a(u,{"label-width":"auto",prop:"username"},{default:l(()=>[a(m,{modelValue:e.value.username,"onUpdate:modelValue":s[0]||(s[0]=t=>e.value.username=t),placeholder:"请输入账号",clearable:""},null,8,["modelValue"])]),_:1}),a(u,{"label-width":"auto",prop:"password"},{default:l(()=>[a(m,{modelValue:e.value.password,"onUpdate:modelValue":s[1]||(s[1]=t=>e.value.password=t),type:"password",placeholder:"请输入密码",clearable:"","show-password":""},null,8,["modelValue"])]),_:1}),a(u,{style:{"margin-left":"-80px"},prop:"type"},{default:l(()=>[a(x,{modelValue:e.value.type,"onUpdate:modelValue":s[2]||(s[2]=t=>e.value.type=t),"value-key":"2",placeholder:"选择登录身份"},{default:l(()=>[(p(!0),c(B,null,q(y.value,t=>(p(),O(h,{key:t.value,label:t.label,value:t.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),a(u,{style:{"margin-left":"-16px"}},{default:l(()=>[a(i,{type:"primary",onClick:w},{default:l(()=>[_("登录")]),_:1}),a(i,{type:"danger",onClick:V},{default:l(()=>[_("重置")]),_:1})]),_:1})]),_:1},8,["model","rules"])])])}}},ee=M(J,[["__scopeId","data-v-a3a10f8a"]]);export{ee as default};
