import{u as f,a as v,r as b,eP as V,m as g,w as o,eQ as y,o as A,d as a,f as E,h as t,i as x,j as B,l as h,E as C}from"./index-Bwo7isz5.js";/* empty css                *//* empty css                     */import"./request-Be5Tglh4.js";import{a as I,b as P}from"./admin-2pTHg_et.js";import{_ as k}from"./_plugin-vue_export-helper-DlAUqK2U.js";const F={__name:"AdminPassword",setup(U){const p=f(),m=v(),e=b({ano:"",username:"",password:"",newpassword:"",newnewpassword:""}),u=async()=>{e.value=p.adminInfo,e.value.ano=(await I(e.value.username,e.value.password)).data.data,console.log(e.value)},w=()=>{e.value.newpassword===""||e.value.newpassword===""&&e.value.newnewpassword===""||e.value.newpassword===""?t({message:"请输入密码",type:"error",plain:!0}):e.value.newnewpassword!==e.value.newpassword?t({message:"两次密码不一致",type:"error",plain:!0}):P(e.value.ano,e.value).then(d=>{if(d.data.state>300){t({message:"修改失败",type:"error",plain:!0});return}t({message:"修改成功",type:"success",plain:!0}),m.push("/"),u()})};return V(()=>{u()}),(d,l)=>{const r=x,n=B,i=h,c=C,_=y;return A(),g(_,{width:"500",class:"container"},{default:o(()=>[a(c,{model:e.value,"label-position":"right","label-width":"auto"},{default:o(()=>[a(n,{label:"名字"},{default:o(()=>[a(r,{modelValue:e.value.username,"onUpdate:modelValue":l[0]||(l[0]=s=>e.value.username=s),disabled:"",clearable:""},null,8,["modelValue"])]),_:1}),a(n,{label:"新密码"},{default:o(()=>[a(r,{modelValue:e.value.newpassword,"onUpdate:modelValue":l[1]||(l[1]=s=>e.value.newpassword=s),placeholder:"请输入新密码",clearable:""},null,8,["modelValue"])]),_:1}),a(n,{label:"再次输入密码"},{default:o(()=>[a(r,{modelValue:e.value.newnewpassword,"onUpdate:modelValue":l[2]||(l[2]=s=>e.value.newnewpassword=s),placeholder:"请再输入新密码",clearable:""},null,8,["modelValue"])]),_:1}),a(n,null,{default:o(()=>[a(i,{type:"primary",onClick:w},{default:o(()=>[E("确认修改")]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})}}},S=k(F,[["__scopeId","data-v-e943efb3"]]);export{S as default};
