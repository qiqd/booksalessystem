import{a8 as a,I as s}from"./vendor-BfugLu_u.js";import{u as o}from"./index-nOFdZBZ9.js";const t=o(),r=a.create({baseURL:"http://localhost:8080",timeout:2e3});r.interceptors.request.use(function(e){return t.token!==""&&(e.headers.token=t.token),e},function(e){return s({message:"请求配置失败",type:"error",plain:!0}),Promise.reject(e)});r.interceptors.response.use(function(e){return e},function(e){if(!e.response)s({message:"服务器未响应，请检查网络连接或服务器状态",type:"error",plain:!0});else switch(e.response.status){case 401:s({message:"未授权，请登录",type:"error",plain:!0});break;case 404:s({message:"找不到资源",type:"error",plain:!0});break;default:s({message:e.response.data.message||"未知错误",type:"error",plain:!0})}return Promise.reject(e)});export{r};
