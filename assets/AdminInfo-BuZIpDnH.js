import{a as o,Y as D,w as F,y as e,A as a,F as N,a1 as $,Z as I,o as U,x as A,D as s,I as V,M,J as T,K as z,B as J,a5 as K,a6 as Y}from"./vendor-BfugLu_u.js";import{g as Z,u as j}from"./admin-De8XhNd_.js";import"./request-B-Avm3cl.js";import"./index-nOFdZBZ9.js";const q=A("span",null,"你确定要删除吗？",-1),G={class:"dialog-footer"},R={__name:"AdminInfo",setup(H){const p=o([]),u=o(!1),i=o(!1),f=o(),v=o(),n=o({aname:"",aemail:""}),_=async()=>{p.value=(await Z()).data.data,console.log(p.value)},y=()=>{alert("请联系工作人员删除！"),u.value=!1,f.value=null,_()},E=()=>{j(v.value,n.value).then(m=>{if(m.data.state>300){V({message:"修改失败",type:"error",plain:!0});return}V({message:"修改成功",type:"success",plain:!0}),i.value=!1,_()})},w=(m,l)=>{v.value=l.ano,n.value.aemail=l.aemail,n.value.aname=l.aname,i.value=!0},C=(m,l)=>{u.value=!0,f.value=l.ono};return D(()=>{_()}),(m,l)=>{const d=M,b=$,g=T,c=z,h=J,r=K,k=Y,x=I;return U(),F(N,null,[e(b,{modelValue:u.value,"onUpdate:modelValue":l[1]||(l[1]=t=>u.value=t),title:"提示",width:"500"},{footer:a(()=>[A("div",G,[e(d,{onClick:l[0]||(l[0]=t=>u.value=!1)},{default:a(()=>[s("取消")]),_:1}),e(d,{onClick:y,type:"primary"},{default:a(()=>[s(" 确认 ")]),_:1})])]),default:a(()=>[q]),_:1},8,["modelValue"]),e(b,{modelValue:i.value,"onUpdate:modelValue":l[4]||(l[4]=t=>i.value=t),title:"修改vip顾客信息",width:"500"},{default:a(()=>[e(h,{model:n.value,"label-position":"right","label-width":"auto"},{default:a(()=>[e(c,{label:"名称"},{default:a(()=>[e(g,{modelValue:n.value.aname,"onUpdate:modelValue":l[2]||(l[2]=t=>n.value.aname=t),placeholder:"请输入名字",clearable:""},null,8,["modelValue"])]),_:1}),e(c,{label:"电子邮件"},{default:a(()=>[e(g,{modelValue:n.value.aemail,"onUpdate:modelValue":l[3]||(l[3]=t=>n.value.aemail=t),placeholder:"请输入邮件号",clearable:""},null,8,["modelValue"])]),_:1}),e(c,null,{default:a(()=>[e(d,{type:"primary",onClick:E},{default:a(()=>[s("确认")]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]),e(x,null,{default:a(()=>[e(k,{data:p.value,height:"100%",style:{width:"100%"},sortable:""},{default:a(()=>[e(r,{align:"center",sortable:"",label:"管理员编号",width:"200",prop:"ano"}),e(r,{align:"center",label:"名字",width:"200",prop:"aname"}),e(r,{align:"center",label:"邮箱",width:"200",prop:"aemail"}),e(r,{align:"center",label:"操作"},{default:a(t=>[e(d,{size:"small",onClick:B=>w(t.$index,t.row)},{default:a(()=>[s(" 编辑")]),_:2},1032,["onClick"]),e(d,{size:"small",type:"danger",onClick:B=>C(t.$index,t.row)},{default:a(()=>[s(" 删除 ")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])]),_:1})],64)}}};export{R as default};
